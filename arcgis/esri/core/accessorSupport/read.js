// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/4.1/esri/copyright.txt for details.
//>>built
define("require exports ./utils ./extensions/serializableProperty ./get dojo/_base/lang".split(" "),function(D,d,B,u,v,C){function h(d,a,f){void 0===f&&(f=x);for(var b=B.getProperties(d),y=b.metadatas,s={},k=0,n=Object.getOwnPropertyNames(a);k<n.length;k++){var l=s,p=y,q=n[k],m=a,h=f,r=p[q],g=u.originSpecificPropertyDefinition(r,h);r&&((!g||void 0===g.readable||g.readable)&&!(g&&null!=g.readFrom))&&(l[q]=!0);r=0;for(g=Object.getOwnPropertyNames(p);r<g.length;r++){var z=g[r],c=u.originSpecificPropertyDefinition(p[z],
h),e;a:{e=q;var A=m;if(c=c&&c.readFrom)if("string"===typeof c){if(c===e||-1<c.indexOf(".")&&0===c.indexOf(e)&&v.exists(c,A)){e=!0;break a}}else for(var w=0;w<c.length;w++){var t=c[w];if(t===e||-1<t.indexOf(".")&&0===t.indexOf(e)&&v.exists(t,A)){e=!0;break a}}e=!1}e&&(l[z]=!0)}}b.setDefaultOrigin(f.origin);k=0;for(s=Object.getOwnPropertyNames(s);k<s.length;k++)n=s[k],p=(l=u.originSpecificPropertyDefinition(y[n],f))&&l.read,q=l&&l.readFrom,m=a[n],q&&"string"===typeof q&&(m=v.valueOf(a,l.readFrom)),
p&&(m=p.call(d,m,a,f)),void 0!==m&&b.set(n,m);b.setDefaultOrigin("user")}var x={origin:"service"};d.read=h;d.readLoadable=function(d,a,f,b){var h=this;void 0===b&&(b=x);a=C.mixin({},b,{messages:[]});f(a);a.messages.forEach(function(a){"warning"===a.type&&!h.loaded?d.loadWarnings.push(a):b&&b.messages.push(a)})};Object.defineProperty(d,"__esModule",{value:!0});d.default=h});