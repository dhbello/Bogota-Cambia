// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/4.1/esri/copyright.txt for details.
//>>built
define(["../../core/Accessor","../../core/HandleRegistry","../../core/watchUtils","../../views/3d/navigation/EventController"],function(d,e,f,a){return d.createSubclass({declaredClass:"esri.widgets.NavigationToggleViewModel",properties:{navigationMode:{},state:{dependsOn:["view.navigationController","view.ready"],readOnly:!0},view:{}},constructor:function(){this._handles=new e;this.toggle=this.toggle.bind(this)},initialize:function(){this._handles.add(f.when(this,"view.navigationController",this._updateNavMode.bind(this)))},
destroy:function(){this._handles.destroy()},_handles:null,state:"disabled",_stateGetter:function(){return this.get("view.ready")&&"3d"===this.view.type?"ready":"disabled"},navigationMode:"pan",view:null,toggle:function(){if("disabled"!==this.state){var b=this.get("view.navigationController"),c=b.getControls();c===a.PRO_PAN||c===a.PRO_TUMBLE?b.setControls("pan"!==this.navigationMode?a.PRO_PAN:a.PRO_TUMBLE):b.setControls("pan"!==this.navigationMode?a.PAN:a.TUMBLE);this.navigationMode="pan"!==this.navigationMode?
"pan":"rotate"}},_updateNavMode:function(){var b=this.view.navigationController.getControls();b===a.PRO_TUMBLE?b.setControls(a.PRO_PAN):b===a.TUMBLE&&b.setControls(a.PAN)}})});